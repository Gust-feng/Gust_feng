# 什么是TCP

TCP 规定：

> SYN 和 FIN 各自要消耗一个序列号（即使没有数据），ACK 不消耗序列号。

第一个 SYN：用掉 `1000`，下一个可用 seq 是 `1001`；

第三个握手的 ACK：只是确认，不带数据，不占序列号。

假设：

- 客户端初始序列号（ISN₁）= 1000
- 服务器初始序列号（ISN₂）= 2000

### 三次握手：

| 阶段 | 方向            | Flags    | Seq  | Ack  | 说明           |
| ---- | --------------- | -------- | ---- | ---- | -------------- |
| ①    | 客户端 → 服务器 | SYN      | 1000 | —    | 请求建立连接   |
| ②    | 服务器 → 客户端 | SYN, ACK | 2000 | 1001 | 确认客户端 SYN |
| ③    | 客户端 → 服务器 | ACK      | 1001 | 2001 | 确认服务器 SYN |



## 数据传输





















